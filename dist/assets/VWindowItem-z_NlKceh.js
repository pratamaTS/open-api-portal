import{a as J}from"./axios-B6xwUs71.js";import{k as Ae,r as V,q as He,o as M,f as L,w as T,d as f,u as k,U as he,M as X,a as W,c as Z,F as pe,s as Oe,V as ne,t as ee,a2 as F,b as me,p as G,an as Ye,bp as Xe,i as D,D as Fe,l as w,ao as R,j,L as oe,I as ge,m as le,bq as Le,h as ie,aQ as We,aw as Ve,O as Ge,aR as _e,aC as ye,b6 as De,Q as Te,bn as je,aG as qe,ay as Ne,a8 as Ue,aW as Ke,z as Qe,A as $,aB as Je,br as Ze,ad as se,bs as Pe,y as et,ai as tt,C as at,aE as nt,J as ze,a_ as ot,aS as st,aF as lt,aY as it,K as ut,a1 as rt}from"./index-D2-qfZUC.js";import{b as te,V as ae,a as be}from"./VCardText-DTp4SCLr.js";import{V as ct}from"./VCard-ejHHU9Bq.js";import{V as dt}from"./VForm-Dut-m-4W.js";import{V as xe,i as vt,s as ft,a as Se}from"./VTextField-Ay2s5CCj.js";import{m as ht,u as mt}from"./lazy-B8-pPrfC.js";import{u as gt}from"./VDivider-CEgDdWDf.js";import{M as yt}from"./index-G4heg744.js";const bt=W("p",{class:"text-base font-weight-medium mt-2"}," Password Requirements: ",-1),xt={class:"d-flex flex-column gap-y-3"},St={class:"font-weight-medium"},wt={key:2,class:"mt-2 text-success"},kt={key:3,class:"mt-2 text-danger",style:{color:"#ff5252"}},qt={__name:"AccountSettingsSecurity",setup(e){const o=Ae();V(!1);const t=V(!1),a=V(!1);V("");const d=V(""),u=V(""),n=V(!1),l=V(""),s=V(""),i=localStorage.getItem("token");He(async()=>{try{const v=await J.get("https://gateway.berkompeten.com/api/student/change-password/status",{headers:{Authorization:`Bearer ${i}`}});n.value=v.data.data.change_password,console.log("change password: ",v.data.data.change_password)}catch(v){console.log("err: ",v),v.response&&v.response.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("profile"),o.push("/login"))}});const y=async()=>{try{console.log("token reset password: ",i);const v=await J.get("https://gateway.berkompeten.com/api/student/reset-password",{headers:{Authorization:`Bearer ${i}`}});console.log("resp reset password: ",v),l.value=v.data.message}catch(v){console.error("reset password error:",v),s.value=v.response.data.message}},h=async()=>{try{if(s.value="",d.value!==u.value){s.value="Your password doesn't match with the confirmation password";return}const v=await J.post("https://gateway.berkompeten.com/api/student/change-password",{password:d.value,password_confirmation:u.value},{headers:{Authorization:`Bearer ${i}`}});console.log("change password otp: ",v),l.value=v.data.message,o.push("/profile/security")}catch(v){v.response&&v.response.data?s.value=v.response.data.errors:s.value="An unexpected error occurred."}},x=["Minimum 8 characters long - the more, the better","At least one lowercase character","At least one number, symbol, or whitespace character"];return(v,r)=>(M(),L(be,null,{default:T(()=>[f(te,{cols:"12"},{default:T(()=>[f(ct,{title:"Change Password"},{default:T(()=>[f(dt,null,{default:T(()=>[k(n)==!0?(M(),L(ae,{key:0},{default:T(()=>[f(be,null,{default:T(()=>[f(te,{cols:"12",md:"6"},{default:T(()=>[f(xe,{modelValue:k(d),"onUpdate:modelValue":r[0]||(r[0]=S=>he(d)?d.value=S:null),type:k(t)?"text":"password","append-inner-icon":k(t)?"ri-eye-off-line":"ri-eye-line",label:"New Password",autocomplete:"on",placeholder:"","onClick:appendInner":r[1]||(r[1]=S=>t.value=!k(t))},null,8,["modelValue","type","append-inner-icon"])]),_:1}),f(te,{cols:"12",md:"6"},{default:T(()=>[f(xe,{modelValue:k(u),"onUpdate:modelValue":r[2]||(r[2]=S=>he(u)?u.value=S:null),type:k(a)?"text":"password","append-inner-icon":k(a)?"ri-eye-off-line":"ri-eye-line",autocomplete:"on",label:"Confirm New Password",placeholder:"","onClick:appendInner":r[3]||(r[3]=S=>a.value=!k(a))},null,8,["modelValue","type","append-inner-icon"])]),_:1})]),_:1})]),_:1})):X("",!0),k(n)==!0?(M(),L(ae,{key:1},{default:T(()=>[bt,W("ul",xt,[(M(),Z(pe,null,Oe(x,S=>W("li",{key:S,class:"d-flex"},[W("div",null,[f(ne,{size:"7",icon:"ri-checkbox-blank-circle-fill",class:"me-3"})]),W("span",St,ee(S),1)])),64))])]),_:1})):X("",!0),f(ae,{class:"d-flex flex-wrap gap-4"},{default:T(()=>[k(n)==!0?(M(),L(F,{key:0,onClick:h},{default:T(()=>[me("Save changes")]),_:1})):X("",!0),k(n)==!1?(M(),L(F,{key:1,type:"reset",color:"secondary",variant:"outlined",onClick:y},{default:T(()=>[me(" Reset ")]),_:1})):X("",!0),k(l)?(M(),Z("div",wt,ee(k(l)),1)):X("",!0),k(s)?(M(),Z("div",kt,ee(k(s)),1)):X("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},Nt="/assets/avatar-1-CxOKCzdw.png",Be=Symbol.for("vuetify:v-tabs"),Ct=G({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...Ye(Xe({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),pt=D()({name:"VTab",props:Ct(),setup(e,o){let{slots:t,attrs:a}=o;const{textColorClasses:d,textColorStyles:u}=Fe(e,"sliderColor"),n=w(()=>e.direction==="horizontal"),l=R(!1),s=V(),i=V();function y(h){var v,r;let{value:x}=h;if(l.value=x,x){const S=(r=(v=s.value)==null?void 0:v.$el.parentElement)==null?void 0:r.querySelector(".v-tab--selected .v-tab__slider"),I=i.value;if(!S||!I)return;const A=getComputedStyle(S).color,p=S.getBoundingClientRect(),P=I.getBoundingClientRect(),g=n.value?"x":"y",b=n.value?"X":"Y",C=n.value?"right":"bottom",z=n.value?"width":"height",q=p[g],H=P[g],E=q>H?p[C]-P[C]:p[g]-P[g],N=Math.sign(E)>0?n.value?"right":"bottom":Math.sign(E)<0?n.value?"left":"top":"center",U=(Math.abs(E)+(Math.sign(E)<0?p[z]:P[z]))/Math.max(p[z],P[z])||0,_=p[z]/P[z]||0,O=1.5;vt(I,{backgroundColor:[A,"currentcolor"],transform:[`translate${b}(${E}px) scale${b}(${_})`,`translate${b}(${E/O}px) scale${b}(${(U-1)/O+1})`,"none"],transformOrigin:Array(3).fill(N)},{duration:225,easing:ft})}}return j(()=>{const h=F.filterProps(e);return f(F,oe({symbol:Be,ref:s,class:["v-tab",e.class],style:e.style,tabindex:l.value?0:-1,role:"tab","aria-selected":String(l.value),active:!1},h,a,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":y}),{...t,default:()=>{var x;return f(pe,null,[((x=t.default)==null?void 0:x.call(t))??e.text,!e.hideSlider&&f("div",{ref:i,class:["v-tab__slider",d.value],style:u.value},null)])}})}),{}}});function we(e){const t=Math.abs(e);return Math.sign(e)*(t/((1/.501-2)*(1-t)+1))}function ke(e){let{selectedElement:o,containerSize:t,contentSize:a,isRtl:d,currentScrollOffset:u,isHorizontal:n}=e;const l=n?o.clientWidth:o.clientHeight,s=n?o.offsetLeft:o.offsetTop,i=d&&n?a-s-l:s,y=t+u,h=l+i,x=l*.4;return i<=u?u=Math.max(i-x,0):y<=h&&(u=Math.min(u-(y-h-x),a-t)),u}function Vt(e){let{selectedElement:o,containerSize:t,contentSize:a,isRtl:d,isHorizontal:u}=e;const n=u?o.clientWidth:o.clientHeight,l=u?o.offsetLeft:o.offsetTop,s=d&&u?a-l-n/2-t/2:l+n/2-t/2;return Math.min(a-t,Math.max(0,s))}const _t=Symbol.for("vuetify:v-slide-group"),Re=G({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:_t},nextIcon:{type:ge,default:"$next"},prevIcon:{type:ge,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...le(),...Le(),...ie(),...We({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Ce=D()({name:"VSlideGroup",props:Re(),emits:{"update:modelValue":e=>!0},setup(e,o){let{slots:t}=o;const{isRtl:a}=Ve(),{displayClasses:d,mobile:u}=Ge(e),n=_e(e,e.symbol),l=R(!1),s=R(0),i=R(0),y=R(0),h=w(()=>e.direction==="horizontal"),{resizeRef:x,contentRect:v}=ye(),{resizeRef:r,contentRect:S}=ye(),I=w(()=>n.selected.value.length?n.items.value.findIndex(c=>c.id===n.selected.value[0]):-1),A=w(()=>n.selected.value.length?n.items.value.findIndex(c=>c.id===n.selected.value[n.selected.value.length-1]):-1);if(De){let c=-1;Te(()=>[n.selected.value,v.value,S.value,h.value],()=>{cancelAnimationFrame(c),c=requestAnimationFrame(()=>{if(v.value&&S.value){const m=h.value?"width":"height";i.value=v.value[m],y.value=S.value[m],l.value=i.value+1<y.value}if(I.value>=0&&r.value){const m=r.value.children[A.value];I.value===0||!l.value?s.value=0:e.centerActive?s.value=Vt({selectedElement:m,containerSize:i.value,contentSize:y.value,isRtl:a.value,isHorizontal:h.value}):l.value&&(s.value=ke({selectedElement:m,containerSize:i.value,contentSize:y.value,isRtl:a.value,currentScrollOffset:s.value,isHorizontal:h.value}))}})})}const p=R(!1);let P=0,g=0;function b(c){const m=h.value?"clientX":"clientY";g=(a.value&&h.value?-1:1)*s.value,P=c.touches[0][m],p.value=!0}function C(c){if(!l.value)return;const m=h.value?"clientX":"clientY",B=a.value&&h.value?-1:1;s.value=B*(g+P-c.touches[0][m])}function z(c){const m=y.value-i.value;s.value<0||!l.value?s.value=0:s.value>=m&&(s.value=m),p.value=!1}function q(){x.value&&(x.value[h.value?"scrollLeft":"scrollTop"]=0)}const H=R(!1);function E(c){if(H.value=!0,!(!l.value||!r.value)){for(const m of c.composedPath())for(const B of r.value.children)if(B===m){s.value=ke({selectedElement:B,containerSize:i.value,contentSize:y.value,isRtl:a.value,currentScrollOffset:s.value,isHorizontal:h.value});return}}}function N(c){H.value=!1}function ue(c){var m;!H.value&&!(c.relatedTarget&&((m=r.value)!=null&&m.contains(c.relatedTarget)))&&_()}function U(c){r.value&&(h.value?c.key==="ArrowRight"?_(a.value?"prev":"next"):c.key==="ArrowLeft"&&_(a.value?"next":"prev"):c.key==="ArrowDown"?_("next"):c.key==="ArrowUp"&&_("prev"),c.key==="Home"?_("first"):c.key==="End"&&_("last"))}function _(c){var m,B,de,ve,fe;if(r.value)if(!c)(m=je(r.value)[0])==null||m.focus();else if(c==="next"){const Y=(B=r.value.querySelector(":focus"))==null?void 0:B.nextElementSibling;Y?Y.focus():_("first")}else if(c==="prev"){const Y=(de=r.value.querySelector(":focus"))==null?void 0:de.previousElementSibling;Y?Y.focus():_("last")}else c==="first"?(ve=r.value.firstElementChild)==null||ve.focus():c==="last"&&((fe=r.value.lastElementChild)==null||fe.focus())}function O(c){const m=s.value+(c==="prev"?-1:1)*i.value;s.value=qe(m,0,y.value-i.value)}const $e=w(()=>{let c=s.value>y.value-i.value?-(y.value-i.value)+we(y.value-i.value-s.value):-s.value;s.value<=0&&(c=we(-s.value));const m=a.value&&h.value?-1:1;return{transform:`translate${h.value?"X":"Y"}(${m*c}px)`,transition:p.value?"none":"",willChange:p.value?"transform":""}}),K=w(()=>({next:n.next,prev:n.prev,select:n.select,isSelected:n.isSelected})),Q=w(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!u.value;case!0:return l.value||Math.abs(s.value)>0;case"mobile":return u.value||l.value||Math.abs(s.value)>0;default:return!u.value&&(l.value||Math.abs(s.value)>0)}}),re=w(()=>Math.abs(s.value)>0),ce=w(()=>y.value>Math.abs(s.value)+i.value);return j(()=>f(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!h.value,"v-slide-group--has-affixes":Q.value,"v-slide-group--is-overflowing":l.value},d.value,e.class],style:e.style,tabindex:H.value||n.selected.value.length?-1:0,onFocus:ue},{default:()=>{var c,m,B;return[Q.value&&f("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!re.value}],onClick:()=>re.value&&O("prev")},[((c=t.prev)==null?void 0:c.call(t,K.value))??f(Se,null,{default:()=>[f(ne,{icon:a.value?e.nextIcon:e.prevIcon},null)]})]),f("div",{key:"container",ref:x,class:"v-slide-group__container",onScroll:q},[f("div",{ref:r,class:"v-slide-group__content",style:$e.value,onTouchstartPassive:b,onTouchmovePassive:C,onTouchendPassive:z,onFocusin:E,onFocusout:N,onKeydown:U},[(m=t.default)==null?void 0:m.call(t,K.value)])]),Q.value&&f("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!ce.value}],onClick:()=>ce.value&&O("next")},[((B=t.next)==null?void 0:B.call(t,K.value))??f(Se,null,{default:()=>[f(ne,{icon:a.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:n.selected,scrollTo:O,scrollOffset:s,focus:_}}});function Tt(e){return e?e.map(o=>Ze(o)?o:{text:o,value:o}):[]}const Pt=G({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Re({mandatory:"force"}),...Ne(),...ie()},"VTabs"),Ut=D()({name:"VTabs",props:Pt(),emits:{"update:modelValue":e=>!0},setup(e,o){let{slots:t}=o;const a=Ue(e,"modelValue"),d=w(()=>Tt(e.items)),{densityClasses:u}=Ke(e),{backgroundColorClasses:n,backgroundColorStyles:l}=Qe($(e,"bgColor"));return Je({VTab:{color:$(e,"color"),direction:$(e,"direction"),stacked:$(e,"stacked"),fixed:$(e,"fixedTabs"),sliderColor:$(e,"sliderColor"),hideSlider:$(e,"hideSlider")}}),j(()=>{const s=Ce.filterProps(e);return f(Ce,oe(s,{modelValue:a.value,"onUpdate:modelValue":i=>a.value=i,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},u.value,n.value,e.class],style:[{"--v-tabs-height":se(e.height)},l.value,e.style],role:"tablist",symbol:Be}),{default:()=>[t.default?t.default():d.value.map(i=>f(pt,oe(i,{key:i.text}),null))]})}),{}}}),zt=e=>{const{touchstartX:o,touchendX:t,touchstartY:a,touchendY:d}=e,u=.5,n=16;e.offsetX=t-o,e.offsetY=d-a,Math.abs(e.offsetY)<u*Math.abs(e.offsetX)&&(e.left&&t<o-n&&e.left(e),e.right&&t>o+n&&e.right(e)),Math.abs(e.offsetX)<u*Math.abs(e.offsetY)&&(e.up&&d<a-n&&e.up(e),e.down&&d>a+n&&e.down(e))};function Bt(e,o){var a;const t=e.changedTouches[0];o.touchstartX=t.clientX,o.touchstartY=t.clientY,(a=o.start)==null||a.call(o,{originalEvent:e,...o})}function Rt(e,o){var a;const t=e.changedTouches[0];o.touchendX=t.clientX,o.touchendY=t.clientY,(a=o.end)==null||a.call(o,{originalEvent:e,...o}),zt(o)}function It(e,o){var a;const t=e.changedTouches[0];o.touchmoveX=t.clientX,o.touchmoveY=t.clientY,(a=o.move)==null||a.call(o,{originalEvent:e,...o})}function Et(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const o={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:t=>Bt(t,o),touchend:t=>Rt(t,o),touchmove:t=>It(t,o)}}function Mt(e,o){var l;const t=o.value,a=t!=null&&t.parent?e.parentElement:e,d=(t==null?void 0:t.options)??{passive:!0},u=(l=o.instance)==null?void 0:l.$.uid;if(!a||!u)return;const n=Et(o.value);a._touchHandlers=a._touchHandlers??Object.create(null),a._touchHandlers[u]=n,Pe(n).forEach(s=>{a.addEventListener(s,n[s],d)})}function $t(e,o){var u,n;const t=(u=o.value)!=null&&u.parent?e.parentElement:e,a=(n=o.instance)==null?void 0:n.$.uid;if(!(t!=null&&t._touchHandlers)||!a)return;const d=t._touchHandlers[a];Pe(d).forEach(l=>{t.removeEventListener(l,d[l])}),delete t._touchHandlers[a]}const Ie={mounted:Mt,unmounted:$t},Ee=Symbol.for("vuetify:v-window"),Me=Symbol.for("vuetify:v-window-group"),At=G({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...le(),...ie(),...et()},"VWindow"),Kt=D()({name:"VWindow",directives:{Touch:Ie},props:At(),emits:{"update:modelValue":e=>!0},setup(e,o){let{slots:t}=o;const{themeClasses:a}=tt(e),{isRtl:d}=Ve(),{t:u}=at(),n=_e(e,Me),l=V(),s=w(()=>d.value?!e.reverse:e.reverse),i=R(!1),y=w(()=>{const g=e.direction==="vertical"?"y":"x",C=(s.value?!i.value:i.value)?"-reverse":"";return`v-window-${g}${C}-transition`}),h=R(0),x=V(void 0),v=w(()=>n.items.value.findIndex(g=>n.selected.value.includes(g.id)));Te(v,(g,b)=>{const C=n.items.value.length,z=C-1;C<=2?i.value=g<b:g===z&&b===0?i.value=!0:g===0&&b===z?i.value=!1:i.value=g<b}),nt(Ee,{transition:y,isReversed:i,transitionCount:h,transitionHeight:x,rootRef:l});const r=w(()=>e.continuous||v.value!==0),S=w(()=>e.continuous||v.value!==n.items.value.length-1);function I(){r.value&&n.prev()}function A(){S.value&&n.next()}const p=w(()=>{const g=[],b={icon:d.value?e.nextIcon:e.prevIcon,class:`v-window__${s.value?"right":"left"}`,onClick:n.prev,ariaLabel:u("$vuetify.carousel.prev")};g.push(r.value?t.prev?t.prev({props:b}):f(F,b,null):f("div",null,null));const C={icon:d.value?e.prevIcon:e.nextIcon,class:`v-window__${s.value?"left":"right"}`,onClick:n.next,ariaLabel:u("$vuetify.carousel.next")};return g.push(S.value?t.next?t.next({props:C}):f(F,C,null):f("div",null,null)),g}),P=w(()=>e.touch===!1?e.touch:{...{left:()=>{s.value?I():A()},right:()=>{s.value?A():I()},start:b=>{let{originalEvent:C}=b;C.stopPropagation()}},...e.touch===!0?{}:e.touch});return j(()=>ze(f(e.tag,{ref:l,class:["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},a.value,e.class],style:e.style},{default:()=>{var g,b;return[f("div",{class:"v-window__container",style:{height:x.value}},[(g=t.default)==null?void 0:g.call(t,{group:n}),e.showArrows!==!1&&f("div",{class:"v-window__controls"},[p.value])]),(b=t.additional)==null?void 0:b.call(t,{group:n})]}}),[[ot("touch"),P.value]])),{group:n}}}),Ht=G({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...le(),...st(),...ht()},"VWindowItem"),Qt=D()({name:"VWindowItem",directives:{Touch:Ie},props:Ht(),emits:{"group:selected":e=>!0},setup(e,o){let{slots:t}=o;const a=lt(Ee),d=it(e,Me),{isBooted:u}=gt();if(!a||!d)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const n=R(!1),l=w(()=>u.value&&(a.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function s(){!n.value||!a||(n.value=!1,a.transitionCount.value>0&&(a.transitionCount.value-=1,a.transitionCount.value===0&&(a.transitionHeight.value=void 0)))}function i(){var r;n.value||!a||(n.value=!0,a.transitionCount.value===0&&(a.transitionHeight.value=se((r=a.rootRef.value)==null?void 0:r.clientHeight)),a.transitionCount.value+=1)}function y(){s()}function h(r){n.value&&rt(()=>{!l.value||!n.value||!a||(a.transitionHeight.value=se(r.clientHeight))})}const x=w(()=>{const r=a.isReversed.value?e.reverseTransition:e.transition;return l.value?{name:typeof r!="string"?a.transition.value:r,onBeforeEnter:i,onAfterEnter:s,onEnterCancelled:y,onBeforeLeave:i,onAfterLeave:s,onLeaveCancelled:y,onEnter:h}:!1}),{hasContent:v}=mt(e,d.isSelected);return j(()=>f(yt,{transition:x.value,disabled:!u.value},{default:()=>{var r;return[ze(f("div",{class:["v-window-item",d.selectedClass.value,e.class],style:e.style},[v.value&&((r=t.default)==null?void 0:r.call(t))]),[[ut,d.isSelected.value]])]}})),{groupItem:d}}});export{Ut as V,qt as _,Nt as a,Kt as b,Qt as c,pt as d};
